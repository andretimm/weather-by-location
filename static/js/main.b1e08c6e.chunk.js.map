{"version":3,"sources":["utils/APIsURL.tsx","services/LocationService.tsx","services/OpenWeatherService.tsx","assets/Clear.jpg","assets/Clouds.jpg","assets/Drizzle.jpg","assets/Mist.jpg","assets/Rain.jpg","assets/Snow.jpg","assets/Thunderstorm.jpg","styles/StyledWrapper.tsx","styles/StyledWeather.tsx","components/DisplayWeather.tsx","styles/StyledLocation.tsx","components/Location.tsx","components/WeatherContainer.tsx","App.tsx","index.tsx"],"names":["MAPBOX_URL","OPENWEATHER_URL","getLocation","a","getPosition","position","getCurrentLocationData","getNavigatorPermission","Promise","resolve","navigator","permissions","query","name","then","result","state","geolocation","getCurrentPosition","data","coords","latitude","longitude","place","country","URL","process","axios","get","placeResponse","features","context","text","getWeather","openWeatherResponse","weather","temp","Math","round","current","tempMax","daily","max","tempMin","min","weatherMain","description","weatherBg","main","icon","StyledWrapper","styled","div","props","Thunderstorm","Clear","Clouds","Drizzle","Mist","Rain","Snow","getBG","StyledWeather","DisplayWeather","src","locationWeather","alt","style","textTransform","StyledLocation","Location","currentPlace","WeatherContainer","useState","setCurrentPlace","setWeather","load","setLoad","hasPermission","setHasPermission","getCurrentLocation","permission","refreshWeather","useEffect","className","onClick","rel","href","target","type","color","height","width","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b1e08c6e.chunk.js","sourcesContent":["export const MAPBOX_URL = \"https://api.mapbox.com/geocoding/v5/mapbox.places/\";\r\nexport const OPENWEATHER_URL = \"https://api.openweathermap.org/data/2.5/onecall\";\r\n","import axios from \"axios\";\r\nimport { MAPBOX_URL } from \"../utils/APIsURL\";\r\nimport { CurrentPosition } from \"../interfaces/CurrentPosition\";\r\n\r\nexport async function getLocation() {\r\n  const position: CurrentPosition = await getPosition();\r\n  return await getCurrentLocationData(position);\r\n}\r\n\r\nexport async function getNavigatorPermission() {\r\n  return new Promise<boolean>((resolve) => {\r\n    navigator.permissions.query({ name: \"geolocation\" }).then((result) => {\r\n      resolve(result.state === \"granted\");\r\n    });\r\n  });\r\n}\r\n\r\nasync function getPosition() {\r\n  return new Promise<CurrentPosition>((resolve) =>\r\n    navigator.geolocation.getCurrentPosition(function (data) {\r\n      const position: CurrentPosition = {\r\n        coords: {\r\n          latitude: data.coords.latitude,\r\n          longitude: data.coords.longitude,\r\n        },\r\n        place: {\r\n          country: \"\",\r\n          name: \"\",\r\n          state: \"\",\r\n        },\r\n      };\r\n      resolve(position);\r\n    })\r\n  );\r\n}\r\n\r\nasync function getCurrentLocationData(position: CurrentPosition) {\r\n  const { latitude, longitude } = position.coords;\r\n  const URL: string = `${MAPBOX_URL}${longitude}%2C${latitude}.json?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}&autocomplete=false&types=place`;\r\n  let placeResponse: any = await axios.get(URL).then();\r\n  const place: CurrentPosition = {\r\n    ...position,\r\n    place: {\r\n      country: placeResponse.data.features[0].context[1].text,\r\n      name: placeResponse.data.features[0].text,\r\n      state: placeResponse.data.features[0].context[0].text,\r\n    },\r\n  };\r\n  return place;\r\n}\r\n","import axios from \"axios\";\r\nimport { OPENWEATHER_URL } from \"../utils/APIsURL\";\r\nimport { WeatherInterface } from \"../interfaces/WeatherInterface\";\r\n\r\nexport async function getWeather(\r\n  latitude: number | undefined,\r\n  longitude: number | undefined\r\n) {\r\n  const URL: string = `${OPENWEATHER_URL}?lat=${latitude}&lon=${longitude}&exclude=minutely,hourly,alerts&units=metric&appid=${process.env.REACT_APP_OPENWEATHER_TOKEN}&lang=pt_br`;\r\n  const openWeatherResponse: any = await axios(URL);\r\n  const weather: WeatherInterface = {\r\n    temp: Math.round(openWeatherResponse.data.current.temp),\r\n    tempMax: Math.round(openWeatherResponse.data.daily[0].temp.max),\r\n    tempMin: Math.round(openWeatherResponse.data.daily[0].temp.min),\r\n    weatherMain: openWeatherResponse.data.daily[0].weather[0].description,\r\n    weatherBg: openWeatherResponse.data.daily[0].weather[0].main,\r\n    icon: `http://openweathermap.org/img/wn/${openWeatherResponse.data.daily[0].weather[0].icon}@2x.png`,\r\n  };\r\n  return weather;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Clear.898bb5df.jpg\";","export default __webpack_public_path__ + \"static/media/Clouds.e28126ce.jpg\";","export default __webpack_public_path__ + \"static/media/Drizzle.6113b958.jpg\";","export default __webpack_public_path__ + \"static/media/Mist.b4f03a3a.jpg\";","export default __webpack_public_path__ + \"static/media/Rain.2029726e.jpg\";","export default __webpack_public_path__ + \"static/media/Snow.f8ab77aa.jpg\";","export default __webpack_public_path__ + \"static/media/Thunderstorm.1d8386cb.jpg\";","import styled from \"styled-components\";\r\nimport { StyledBGInterface } from \"../interfaces/StyledBGInterface\";\r\nimport Clear from \"../assets/Clear.jpg\";\r\nimport Clouds from \"../assets/Clouds.jpg\";\r\nimport Drizzle from \"../assets/Drizzle.jpg\";\r\nimport Mist from \"../assets/Mist.jpg\";\r\nimport Rain from \"../assets/Rain.jpg\";\r\nimport Snow from \"../assets/Snow.jpg\";\r\nimport Thunderstorm from \"../assets/Thunderstorm.jpg\";\r\n\r\nexport const StyledWrapper = styled.div<StyledBGInterface>`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100vw;\r\n  min-height: 100vh;\r\n  background-image: url(${(props) => getBG(props?.weatherBg)});\r\n  background-size: cover;\r\n  background-position: top center;\r\n  .wrapper {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-self: center;\r\n    text-align: center;\r\n    min-height: 70vh;\r\n  }\r\n  button {\r\n    color: #fff;\r\n    margin: 15px 15px 0 auto;\r\n    background: none;\r\n    border: none;\r\n    padding: 0;\r\n    font-size: 2.5rem;\r\n    cursor: pointer;\r\n  }\r\n  .noPermission {\r\n    color: #fff;\r\n    font-size: 1.5rem;\r\n  }\r\n  .link {\r\n    color: #fff;\r\n    text-decoration: inherit;\r\n    font-size: 1.2rem;\r\n  }\r\n`;\r\n\r\nfunction getBG(weatherBg: string): any {\r\n  switch (weatherBg) {\r\n    case \"Thunderstorm\":\r\n      return Thunderstorm;\r\n    case \"Clear\":\r\n      return Clear;\r\n    case \"Clouds\":\r\n      return Clouds;\r\n    case \"Drizzle\":\r\n      return Drizzle;\r\n    case \"Mist\":\r\n      return Mist;\r\n    case \"Fog\":\r\n      return Mist;\r\n    case \"Rain\":\r\n      return Rain;\r\n    case \"Snow\":\r\n      return Snow;\r\n    default:\r\n      return Clear;\r\n  }\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledWeather = styled.div`\r\n  color: #fff;\r\n  img {\r\n    width: 7rem;\r\n    margin-top: 15px;\r\n  }\r\n  h1 {\r\n    font-size: 6rem;\r\n    margin-bottom: 30px;\r\n    & span {\r\n      font-size: 4.5rem;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n  h2 {\r\n    font-size: 2rem;\r\n    font-weight: 700;\r\n    font-style: italic;\r\n    margin-bottom: 15px;\r\n  }\r\n  h3 {\r\n    font-size: 1.5rem;\r\n    font-weight: 500;\r\n    & span {\r\n      font-size: 1rem;\r\n      font-weight: 200;\r\n    }\r\n  }\r\n`;\r\n","import { StyledWeather } from \"../styles/StyledWeather\";\r\n\r\nexport default function DisplayWeather(weather: any) {\r\n  return (\r\n    <StyledWeather>\r\n      <img src={weather?.locationWeather?.icon} alt=\"\" />\r\n      <h1>\r\n        {weather?.locationWeather?.temp}\r\n        <span>&#186;C</span>\r\n      </h1>\r\n      <h2 style={{ textTransform: \"capitalize\" }}>\r\n        {weather?.locationWeather?.weatherMain}\r\n      </h2>\r\n      <h3>\r\n        {weather?.locationWeather?.tempMin}\r\n        <span>&#186;C</span> / {weather?.locationWeather?.tempMax}\r\n        <span>&#186;C</span>\r\n      </h3>\r\n    </StyledWeather>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledLocation = styled.div`\r\n  color: #fff;\r\n  h1 {\r\n    color: #fff;\r\n    font-size: 3.2rem;\r\n    font-weight: 500;\r\n    margin-bottom: 5px;\r\n  },\r\n  h2 {\r\n    color: #fff;\r\n    font-size: 2rem;\r\n    font-weight: 500;\r\n    margin-bottom: 5px;\r\n  }\r\n`;\r\n","import { StyledLocation } from \"../styles/StyledLocation\";\r\n\r\nexport default function Location(currentPlace: any) {\r\n  return (\r\n    <StyledLocation>\r\n      <h1>{currentPlace?.place?.name} </h1>\r\n      <h2>\r\n        {currentPlace?.place?.state}, {currentPlace?.place?.country}\r\n      </h2>\r\n    </StyledLocation>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { MdRefresh } from \"react-icons/md\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport { CurrentPosition } from \"../interfaces/CurrentPosition\";\r\nimport { WeatherInterface } from \"../interfaces/WeatherInterface\";\r\nimport {\r\n  getLocation,\r\n  getNavigatorPermission,\r\n} from \"../services/LocationService\";\r\nimport { getWeather } from \"../services/OpenWeatherService\";\r\nimport { StyledWrapper } from \"../styles/StyledWrapper\";\r\nimport DisplayWeather from \"./DisplayWeather\";\r\nimport Location from \"./Location\";\r\n\r\nexport default function WeatherContainer() {\r\n  const [currentPlace, setCurrentPlace] = useState<CurrentPosition>();\r\n  const [weather, setWeather] = useState<WeatherInterface>();\r\n  const [load, setLoad] = useState(false);\r\n  const [hasPermission, setHasPermission] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    getCurrentLocation();\r\n  }, []);\r\n\r\n  async function getCurrentLocation() {\r\n    const permission: boolean = await getNavigatorPermission();\r\n    setHasPermission(permission);\r\n    if (permission) {\r\n      const place = await getLocation();\r\n      setCurrentPlace(place);\r\n      const locationWeather = await getWeather(\r\n        place.coords.latitude,\r\n        place.coords.longitude\r\n      );\r\n      setWeather(locationWeather);\r\n    }\r\n    setLoad(true);\r\n  }\r\n\r\n  function refreshWeather() {\r\n    setLoad(false);\r\n    getCurrentLocation();\r\n  }\r\n\r\n  if (load) {\r\n    if (hasPermission) {\r\n      return (\r\n        <StyledWrapper weatherBg={weather?.weatherBg}>\r\n          <div className=\"bgImage\"></div>\r\n          <button onClick={refreshWeather}>\r\n            <MdRefresh />\r\n          </button>\r\n          <div className=\"wrapper\">\r\n            <Location place={currentPlace?.place} />\r\n            <DisplayWeather locationWeather={weather} />\r\n          </div>\r\n        </StyledWrapper>\r\n      );\r\n    } else {\r\n      return (\r\n        <StyledWrapper weatherBg=\"\">\r\n          <button onClick={refreshWeather}>\r\n            <MdRefresh />\r\n          </button>\r\n          <div className=\"wrapper\">\r\n            <h1 className=\"noPermission\">\r\n              Para correto funcionamento, precisamos ter acesso a sua\r\n              localização atual. Caso tenha duvida de como fazer segue link para\r\n              os principais navegadores.\r\n            </h1>\r\n            <br />\r\n            <a\r\n              className=\"link\"\r\n              rel=\"noreferrer\"\r\n              href=\"https://support.google.com/chrome/answer/114662?co=GENIE.Platform%3DDesktop&hl=pt-BR#zippy=\"\r\n              target=\"_blank\"\r\n            >\r\n              Chrome\r\n            </a>\r\n            <a\r\n              className=\"link\"\r\n              rel=\"noreferrer\"\r\n              href=\"https://support.mozilla.org/pt-BR/kb/o-firefox-compartilha-minha-localizacao-com-sites#:~:text=Na%20se%C3%A7%C3%A3o%20Permiss%C3%B5es%2C%20clique%20no%20bot%C3%A3o%20Configura%C3%A7%C3%B5es%E2%80%A6,Clique%20em%20Salvar%20altera%C3%A7%C3%B5es.\"\r\n              target=\"_blank\"\r\n            >\r\n              Firefox\r\n            </a>\r\n            <a\r\n              className=\"link\"\r\n              rel=\"noreferrer\"\r\n              href=\"https://support.apple.com/pt-br/guide/safari/ibrw7f78f7fe/mac\"\r\n              target=\"_blank\"\r\n            >\r\n              Safari\r\n            </a>\r\n          </div>\r\n        </StyledWrapper>\r\n      );\r\n    }\r\n  } else {\r\n    return (\r\n      <StyledWrapper weatherBg=\"\">\r\n        <div className=\"wrapper\">\r\n          <Loader type=\"ThreeDots\" color=\"#FFF\" height={100} width={100} />\r\n        </div>\r\n      </StyledWrapper>\r\n    );\r\n  }\r\n}\r\n","import WeatherContainer from \"./components/WeatherContainer\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <WeatherContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}